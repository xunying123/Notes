# 计网 阅读笔记

[TOC]

## 第一章，堂堂开坑！

- 概述：通信网络是以协议为基础的，且通信通过套接字进行。在按照协议建立连接以后，将数据分包，根据协议加上头尾，从套接字进行传输。
- 接入互联网
  - 拨号上网，和电话线用的同一根线缆，但二者可以并行，因为频率不同；
  - 电缆与光缆，经过调制解调器接入家庭网络；
  - 以太网，一种局域网（LAN）接入技术
- 存储转发传输：把一个包的全部内容都收到以后再进行转发；延迟大，上限低；
- 分组交换：不预留，直接传，网络尽最大努力确保不出错，但不保证；
- 电路交换，在数据传输前建立连接，让途径的交换机和路由预留数据传输的余量；
- FDM频分复用，不同链接分频率；
- TDM时分复用，将时间按帧划分，每个帧分为时隙，不同的连接分配固定的时隙；
- 网络特点：时延，吞吐，丢包；
- tracerote
- 七层OSI网络模型：
  - 应用层：网络应用程序以及其应用协议。DNS？
  - 表示层：数据压缩，加密，数据描述；
  - 会话层：数据交换的同步，建立检查点，恢复；
  - 运输层：TCP/UDP；
  - 网络层：IP;
  - 链路层：以太网，WIFI，DOCSIS；
  - 物理层：实际传输媒体；

## 第二章，应用层

- 客户-服务器结构；P2P；
- 发起通信的的进程成为客户，等待联系的称为服务器；
- 进程通过套接字进行通信；
- TCP：可靠数据传输，需要先握手，建立的连接是全双工的，断开需拆除；
- UDP：无连接，不保证数据传输；
- 应用层协议，定义了不同应用程序之间，如何传输，如HTTP,SMTP；

### Web和HTTP

- HTTP，超文本传输协议，使用TCP，无状态协议；

- C发起请求，S 接受，建立连接；C 请求文件，S 发送，结束；

- 非持续性连接，持续连接；

```http
GET /somedir/page.html HTTP/1.1
Host: www.someschool.edu
Connection: close
User-agent: Mozilla/5.0
Accept-language: fr
  
```

- 以上为一个请求报文，第一行为请求行，之后为首部行，最后一行需要换行；
- 请求行：

  - 方法字段：GET、POST、HEAD、PUT、DELETE
  - URL字段：目标；
  - HTTP版本字段：字面含义；
- 首部行：

  - Host：用来高速缓存；
  - Connection：非持续性连接；
  - User-agent：浏览器类型；
  - Accept-language：语言版本？

```http
HTTP/1.1 200 OK
Connection: close
Date: Tue, 18 Aug 2015 15:44:04 GMT
Server: Apache/2.2.3 (CentOS)
Last-Modified: Tue, 18 Aug 2015 15:11:03 GMT
Content-Length: 6821
Content-type: text/html
(data.........)
```

- 以上为相应报文，分为初始状态行，首部行，实体体；
- 状态行：
  - 版本；
  - 状态码：200 301 400 404 505
- 首部行：
  - Date：发送该相应报文的时间，也可以看做发送的数据获取的时间？
  - Last-Modified：目标数据最后修改/创建时间，用于区分本地还是缓存；
- cookie ：S 用来区分C ；
  - C 第一次访问时，由S 指定一个标识，在相应的首部行中加入 `set-cookie`；
  - 以后的C 的请求中，首部行都会添加 `cookie`；
  - 会定时删除，但会导致隐私问题；
- 网络缓存，好也不好（经典缓存论断）；
- 条件GET，通过增加首部行 `If-modified-since:` ，内容为Last-Modified的时间，判断是否一致；（由缓存方发起）

### Mail





